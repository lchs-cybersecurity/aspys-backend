{% extends "admin.html" %}

{% block title %}Settings{% endblock %}

{% block content_class %}full{% endblock %}

{% block content %}

<div class="fields-container">
    <!--
    <li>
        <label for="support_emails">Emergency support emails (separated by commas)</label><br>
        <textarea type="text" id="support_emails" name="support_emails"
        style="width:500px;height:100">{{ support_emails_str }}</textarea>
    </li>
    --> 

    <div class="field">
        <h1>Whitelisted Domains</h1>
        <label for='domain_whitelist_input'>Enter one email domain per line</label>
        <textarea id='domain_whitelist_input' class='list-input'></textarea> 
        <br>
        <button id='domain_whitelist_submit' class='settings-submit'>Save</button> 
    </div>
    <div class="field">
        <h1>Blacklisted Domains</h1>
        <label for='domain_blacklist_input'>Enter one email domain per line</label>
        <textarea id='domain_blacklist_input' class='list-input'></textarea> 
        <br>
        <button id='domain_blacklist_submit' class='settings-submit'>Save</button> 
    </div>
    <div class="field">
        <h1>Whitelisted Emails</h1>
        <label for='whitelist_input'>Enter one email address per line</label>
        <textarea id='whitelist_input' class='list-input'></textarea> 
        <br>
        <button id='whitelist_submit' class='settings-submit'>Save</button> 
    </div>
    <div class="field">
        <h1>Blacklisted Emails</h1>
        <label for='blacklist_input'>Enter one email address per line</label>
        <textarea id='blacklist_input' class='list-input'></textarea> 
        <br>
        <button id='blacklist_submit' class='settings-submit'>Save</button> 
    </div>
</div>

{% endblock %}

{% block css %}
    <link href="{{ url_for('static',filename='css/settings.css') }}" rel="stylesheet"/>
{% endblock %}

{% block js %}

<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script> 
<script>
    const urls = {
        set_blacklist: "{{ url_for('api_bp.set_blacklist') }}", 
        get_blacklist: "{{ url_for('api_bp.get_blacklist') }}", 
        set_whitelist: "{{ url_for('api_bp.set_whitelist') }}", 
        get_whitelist: "{{ url_for('api_bp.get_whitelist') }}", 
    } 

    const org_id = '{{ org_id }}'; 
</script>
<script src="{{ url_for('static',filename='js/settings.js') }}"></script>

{% endblock %}